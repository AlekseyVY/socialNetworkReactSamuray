{"version":3,"sources":["components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","Redux/app_reducer.js","components/HOC/SuspenseHOC.js","App.js","Redux/sideBarReducer.js","Redux/redux-store.js","index.js","Redux/profileReducer.js","resources/loaders/Bean Eater.gif","components/common/Preloader/Preloader.jsx","App.module.css","Redux/auth_reducer.js","Redux/messageReducer.js","Redux/userReducer.js","components/common/Preloader/preloader.module.css","api/api.js"],"names":["News","props","Music","Settings","SET_INITIALIZED","initialState","initialised","appReducer","state","action","type","data","SuspenseHOC","component","fallback","Preloader","DialogsContainer","React","lazy","NavBarContainer","UsersContainer","ProfileContainer","HeaderContainer","LoginContainer","App","this","initThunk","className","styles","app_wrapper","container","path","render","Component","compose","withRouter","connect","dispatch","a","authAPI","auth","promise","Promise","all","sideBar","friends","name","sideBarReducer","reducers","combineReducers","profileReducer","messageReducer","userReducer","authReducer","form","formReducer","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById","ADD_POST","SET_USER_PROFILE","SET_ISFETCHING","SET_USER_ID","SET_STATUS","posts","id","message","likesCount","profile","isFetching","userId","status","setProfile","setIsFetching","newPost","post","setNewPost","getStatusThunk","profileAPI","getStatus","updateStatusThunk","updateStatus","profileThunk","getProfile","length","loader","src","userLoader","alt","module","exports","SET_USER_DATA","IS_FETCHING","LOGOUT","LOGIN","SET_AUTH","email","login","password","rememberMe","isAuth","setUserData","loginUser","loginThunk","resp","resultCode","authTHunk","stopSubmit","_error","messages","logoutThunk","logout","ADD_DIALOG","messageData","dialogs","addDialog","dialog","addDialogThunk","newMsg","FOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","FOLLOWING_IN_PROGRESS","users","pageSize","totalUserCount","currentPage","followingProcess","follow","setUsers","setPage","pageNumber","followingInProgress","getUsersThunkCreator","usersAPI","getUsers","items","totalCount","getFollow","followUser","unFollowUser","pageChange","map","user","followed","filter","instance","axios","create","withCredentials","baseURL","process","REACT_APP_BASE_URL","headers","REACT_APP_API_KEY","get","delete","put"],"mappings":"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","file":"static/js/main.ac801ad3.chunk.js","sourcesContent":["//import styles from './News.module.css'\r\n\r\n\r\nconst News = (props) => {\r\n\r\n  return (\r\n    <>\r\n      News\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default News;","//import styles from './Music.module.css'\r\n\r\n\r\nconst Music = (props) => {\r\n\r\n  return (\r\n    <>\r\n      Music\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default Music;","//import styles from './Settings.module.css'\r\n\r\n\r\nconst Settings = (props) => {\r\n\r\n  return (\r\n    <>\r\n      Settings\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default Settings;","import {authAPI} from \"../api/api\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\n\r\nlet initialState = {\r\n  initialised: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED: {\r\n      return {\r\n        ...state,\r\n        initialised: action.data\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initialize = (status) => {\r\n  return {\r\n    type: 'SET_INITIALIZED',\r\n    data: status\r\n  }\r\n}\r\n\r\nexport const initThunk = () => {\r\n  return async (dispatch) => {\r\n    let promise = await authAPI.auth()\r\n    await Promise.all([promise])\r\n    dispatch(initialize(true))\r\n  }\r\n}\r\n\r\n\r\nexport default appReducer;","import * as React from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\n\r\nconst SuspenseHOC = (component) => {\r\n  return (\r\n    <React.Suspense fallback={<div><Preloader/></div>}>\r\n      {component}\r\n    </React.Suspense>\r\n  )\r\n}\r\n\r\n\r\nexport default SuspenseHOC\r\n\r\n\r\n","import React from \"react\";\r\nimport styles from './App.module.css';\r\nimport {Route, withRouter} from 'react-router-dom'\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initThunk} from \"./Redux/app_reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport SuspenseHOC from \"./components/HOC/SuspenseHOC\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\r\nconst NavBarContainer = React.lazy(() => import(\"./components/NavBar/NavBarContainer\"));\r\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\r\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\r\nconst HeaderContainer = React.lazy(() => import(\"./components/Header/HeaderContainer\"));\r\nconst LoginContainer = React.lazy(() => import(\"./components/Login/LoginContainer\"));\r\n\r\n\r\nclass App extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.initThunk()\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialised) {\r\n      return (\r\n        <Preloader/>\r\n      )\r\n    }\r\n    return (\r\n      <div className={styles.app_wrapper}>\r\n        {SuspenseHOC(<HeaderContainer/>)}\r\n        {SuspenseHOC(<NavBarContainer/>)}\r\n        <div className={styles.container}>\r\n          <Route\r\n            path={'/dialogs'}\r\n            render={() => SuspenseHOC(<DialogsContainer/>)}\r\n          />\r\n          <Route\r\n            path={'/profile/:userId?'}\r\n            render={() => SuspenseHOC(<ProfileContainer/>)}\r\n          />\r\n          <Route\r\n            path={'/users'}\r\n            render={() => SuspenseHOC(<UsersContainer/>)\r\n            }\r\n          />\r\n          <Route\r\n            path={'/news'}\r\n            component={News}\r\n          />\r\n          <Route\r\n            path={'/music'}\r\n            component={Music}\r\n          />\r\n          <Route\r\n            path={'/settings'}\r\n            component={Settings}\r\n          />\r\n          <Route\r\n            path={'/login'}\r\n            render={() => SuspenseHOC(<LoginContainer/>)}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    initialised: state.appReducer.initialised\r\n  }\r\n}\r\n\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {initThunk}))(App);\r\n","let initialState = {\r\n  sideBar: {\r\n    friends: [\r\n      {name: 'Aleksey'},\r\n      {name: 'Kirill'},\r\n      {name: 'Valera'}]\r\n  }\r\n}\r\n\r\n\r\nconst sideBarReducer = (state = initialState, action) => {\r\n  return state\r\n}\r\n\r\n\r\nexport default sideBarReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport sideBarReducer from \"./sideBarReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport messageReducer from \"./messageReducer\";\r\nimport userReducer from \"./userReducer\";\r\nimport authReducer from \"./auth_reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app_reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n  profileReducer: profileReducer,\r\n  messageReducer: messageReducer,\r\n  sideBarReducer: sideBarReducer,\r\n  userReducer: userReducer,\r\n  authReducer: authReducer,\r\n  form: formReducer,\r\n  appReducer: appReducer\r\n})\r\n\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunk));\r\n\r\n\r\nexport default store;","import React from 'react'\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport store from \"./Redux/redux-store\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App/>\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n","import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_ISFETCHING = 'SET_ISFETCHING';\r\nconst SET_USER_ID = 'SET_USER_ID';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {id: 1, message: 'This is my first generic post', likesCount: 0},\r\n    {id: 2, message: 'This is my second generic post', likesCount: 45}\r\n  ],\r\n  profile: null,\r\n  isFetching: false,\r\n  userId: null,\r\n  status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: state.posts.length + 1,\r\n        message: action.data,\r\n        likesCount: 0\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n      }\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.data\r\n      }\r\n    }\r\n    case SET_ISFETCHING: {\r\n      return {\r\n        ...state,\r\n        isFetching: !state.isFetching\r\n      }\r\n    }\r\n    case SET_USER_ID: {\r\n      return {\r\n        ...state,\r\n        userId: action.data\r\n      }\r\n    }\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.data\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\nexport const setProfile = (profile) => {\r\n  return {\r\n    type: 'SET_USER_PROFILE',\r\n    data: profile\r\n  }\r\n}\r\n\r\nexport const setIsFetching = () => {\r\n  return {\r\n    type: SET_ISFETCHING\r\n  }\r\n}\r\n\r\nexport const setUserId = (userId) => {\r\n  return {\r\n    type: SET_USER_ID,\r\n    data: userId\r\n  }\r\n}\r\n\r\n\r\nexport const setStatus = (status) => {\r\n  return {\r\n    type: SET_STATUS,\r\n    data: status\r\n  }\r\n}\r\n\r\nexport const setNewPost = (post) => {\r\n  return {\r\n    type: ADD_POST,\r\n    data: post\r\n  }\r\n}\r\n\r\nexport const newPost = (post) => {\r\n  return (dispatch) => {\r\n    dispatch(setNewPost(post))\r\n  }\r\n}\r\n\r\n\r\nexport const getStatusThunk = (userId) => {\r\n  return async (dispatch) => {\r\n    const data = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(data))\r\n  }\r\n}\r\n\r\nexport const updateStatusThunk = (status) => {\r\n  return async (dispatch) => {\r\n    await profileAPI.updateStatus(status)\r\n  }\r\n}\r\n\r\n\r\nexport const profileThunk = (userId = 14529) => {\r\n  return async (dispatch) => {\r\n    dispatch(setIsFetching())\r\n    const data = await profileAPI.getProfile(userId)\r\n    dispatch(setIsFetching())\r\n    dispatch(setProfile(data))\r\n  }\r\n}\r\n\r\n\r\nexport default profileReducer;","export default __webpack_public_path__ + \"static/media/Bean Eater.559cdd74.gif\";","import styles from \"./preloader.module.css\";\r\nimport userLoader from \"../../../resources/loaders/Bean Eater.gif\";\r\n\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <img className={styles.loader} src={userLoader} alt={'loader'}/>\r\n  )\r\n}\r\n\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_wrapper\":\"App_app_wrapper__UNYgq\",\"container\":\"App_container__1Vh9x\"};","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {profileThunk} from \"./profileReducer\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst IS_FETCHING = 'IS_FETCHING';\r\nconst LOGOUT = 'LOGOUT';\r\nconst LOGIN = 'LOGIN';\r\nconst SET_AUTH = 'SET_AUTH';\r\n\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  password: null,\r\n  rememberMe: false,\r\n  isAuth: false,\r\n  isFetching: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH: {\r\n      return {\r\n        ...state,\r\n        isAuth: true\r\n      }\r\n    }\r\n    case SET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n        isAuth: true\r\n      }\r\n    }\r\n    case IS_FETCHING: {\r\n      return {\r\n        ...state,\r\n        isFetching: !state.isFetching\r\n      }\r\n    }\r\n    case LOGOUT: {\r\n      return {\r\n        ...state,\r\n        userId: null,\r\n        email: null,\r\n        login: null,\r\n        isAuth: false,\r\n      }\r\n    }\r\n    case LOGIN: {\r\n      return {\r\n        ...state,\r\n        login: action.data.login,\r\n        password: action.data.password,\r\n        rememberMe: action.data.rememberMe\r\n\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\nexport const setUserData = (userId, email, login) => {\r\n  return {\r\n    type: 'SET_USER_DATA',\r\n    data: {userId, email, login}\r\n  }\r\n}\r\n\r\nexport const fetching = () => {\r\n  return {\r\n    type: 'IS_FETCHING'\r\n  }\r\n}\r\n\r\nexport const logout = () => {\r\n  return {\r\n    type: 'LOGOUT'\r\n  }\r\n}\r\n\r\nexport const setAuth = () => {\r\n  return {\r\n    type: 'SET_AUTH'\r\n  }\r\n}\r\n\r\nexport const loginUser = (login, password, rememberMe) => {\r\n  return {\r\n    type: 'LOGIN',\r\n    data: {login, password, rememberMe}\r\n  }\r\n}\r\n\r\nexport const loginThunk = (login, password, rememberMe) => {\r\n\r\n  return async (dispatch) => {\r\n    dispatch(loginUser(login, password, rememberMe))\r\n    const resp = await authAPI.login(login, password, rememberMe)\r\n    if (resp.resultCode === 0) {\r\n      dispatch(authTHunk())\r\n      dispatch(profileThunk(resp.data.userId))\r\n    } else {\r\n      let action = stopSubmit(\"login\", {_error: resp.messages});\r\n      dispatch(action)\r\n    }\r\n  }\r\n}\r\n\r\nexport const logoutThunk = () => {\r\n  return async (dispatch) => {\r\n    const resp = await authAPI.logout()\r\n    if (resp.resultCode === 0) {\r\n      dispatch(logout())\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const authTHunk = () => {\r\n  return async (dispatch) => {\r\n    dispatch(fetching())\r\n    const data = await authAPI.auth()\r\n    if (data.resultCode === 0) {\r\n      let {id, email, login} = data.data\r\n      dispatch(setUserData(id, email, login))\r\n    }\r\n    dispatch(fetching())\r\n  }\r\n}\r\n\r\n\r\nexport default authReducer;","const ADD_DIALOG = 'ADD_DIALOG';\r\n\r\n\r\nlet initialState = {\r\n  messageData: [\r\n    {id: 1, message: 'generic message number one'},\r\n    {id: 2, message: 'generic message number two'},\r\n    {id: 3, message: 'generic message number three'},\r\n    {id: 4, message: 'generic message number four'},\r\n    {id: 5, message: 'generic message number five'},\r\n  ],\r\n  dialogs: [\r\n    {id: 1, name: 'Aleksey'},\r\n    {id: 2, name: 'Kirill'},\r\n    {id: 3, name: 'Valera'},\r\n    {id: 4, name: 'BoevoyWertolet'},\r\n    {id: 5, name: 'Ololosh'}\r\n  ]\r\n}\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_DIALOG: {\r\n      let newMsg = {\r\n        id: state.messageData.length + 1,\r\n        message: action.data\r\n      }\r\n      return {\r\n        ...state,\r\n        messageData: [...state.messageData, newMsg]\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const addDialog = (dialog) => {\r\n  return {\r\n    type: 'ADD_DIALOG',\r\n    data: dialog\r\n  }\r\n}\r\n\r\nexport const addDialogThunk = (dialog) => {\r\n  return async (dispatch) => {\r\n    dispatch(addDialog(dialog))\r\n  }\r\n}\r\n\r\nexport default messageReducer;","import {usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT';\r\nconst SET_ISFETCHING = 'SET_ISFETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUserCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingProcess: []\r\n}\r\n\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW: {\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.data) {\r\n            return {...user, followed: !user.followed}\r\n          } else {\r\n            return user\r\n          }\r\n        })\r\n      }\r\n    }\r\n    case SET_USERS: {\r\n      return {\r\n        ...state,\r\n        users: [...action.data]\r\n      }\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return {\r\n        ...state,\r\n        currentPage: action.data\r\n      }\r\n    }\r\n    case SET_TOTAL_COUNT: {\r\n      return {\r\n        ...state,\r\n        totalUserCount: action.data\r\n      }\r\n    }\r\n    case SET_ISFETCHING: {\r\n      return {\r\n        ...state,\r\n        isFetching: !state.isFetching\r\n      }\r\n    }\r\n    case FOLLOWING_IN_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingProcess: action.data.status\r\n          ? [...state.followingProcess, action.data.id]\r\n          : [...state.followingProcess.filter((id) => action.data.id !== id)]\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return {\r\n    type: 'FOLLOW',\r\n    data: userId\r\n  }\r\n}\r\n\r\nexport const setUsers = (users) => {\r\n  return {\r\n    type: \"SET_USERS\",\r\n    data: users\r\n  }\r\n}\r\n\r\nexport const setPage = (pageNumber) => {\r\n  return {\r\n    type: \"SET_CURRENT_PAGE\",\r\n    data: pageNumber\r\n  }\r\n}\r\n\r\nexport const setUsersCount = (totalCount) => {\r\n  return {\r\n    type: \"SET_TOTAL_COUNT\",\r\n    data: totalCount\r\n  }\r\n}\r\n\r\nexport const setIsFetching = () => {\r\n  return {\r\n    type: \"SET_ISFETCHING\"\r\n  }\r\n}\r\n\r\nexport const followingInProgress = (status, id) => {\r\n  return {\r\n    type: 'FOLLOWING_IN_PROGRESS',\r\n    data: {status, id}\r\n  }\r\n}\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(setIsFetching())\r\n    const data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setIsFetching());\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setUsersCount(data.totalCount));\r\n  }\r\n}\r\nexport const getFollow = (status, id) => {\r\n  return async (dispatch) => {\r\n    dispatch(followingInProgress(status, id))\r\n    if (status === true) {\r\n      const data = await usersAPI.followUser(id)\r\n      if (data.resultCode === 0) {\r\n        dispatch(followingInProgress(status, id));\r\n        dispatch(follow(id))\r\n      }\r\n    } else {\r\n      const data = await usersAPI.unFollowUser(id)\r\n      if (data.resultCode === 0) {\r\n        dispatch(followingInProgress(status, id));\r\n        dispatch(follow(id))\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport const pageChange = (pageNumber, currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(setIsFetching())\r\n    dispatch(setPage(pageNumber))\r\n    const data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setIsFetching())\r\n    dispatch(setUsers(data.items))\r\n  }\r\n}\r\n\r\n\r\nexport default userReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"preloader_loader__1_PQF\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: process.env.REACT_APP_BASE_URL,\r\n  headers: {\r\n    'API-KEY': process.env.REACT_APP_API_KEY\r\n  }\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers: async (pageNumber = 1, pageSize = 5) => {\r\n    const resp = await instance.get(`users?page=${pageNumber}&count=${pageSize}`)\r\n    return resp.data\r\n  },\r\n  followUser: async (id) => {\r\n    const resp = await instance.post(`follow/${id}`, {},)\r\n    return resp.data\r\n  },\r\n  unFollowUser: async (id) => {\r\n    const resp = await instance.delete(`follow/${id}`)\r\n    return resp.data\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  auth: async () => {\r\n    const resp = await instance.get(`auth/me`)\r\n    return resp.data\r\n  },\r\n  login: async (login, password, rememberMe) => {\r\n    const resp = await instance.post(`auth/login`, {\r\n      email: login,\r\n      password: password,\r\n      rememberMe: rememberMe\r\n    })\r\n    return resp.data\r\n  },\r\n  logout: async () => {\r\n    const resp = await instance.delete(`auth/login`)\r\n    return resp.data\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile: async (userId = 14529) => {\r\n    let resp = await instance.get(`profile/${userId}`)\r\n    return resp.data\r\n  },\r\n  getStatus: async (userId = 14529) => {\r\n    const resp = await instance.get(`profile/status/${userId}`)\r\n    return resp.data\r\n  },\r\n  updateStatus: async (status) => {\r\n    const resp = await instance.put(`profile/status`, {status: status})\r\n    return resp\r\n  }\r\n}\r\n\r\n\r\n"],"sourceRoot":""}